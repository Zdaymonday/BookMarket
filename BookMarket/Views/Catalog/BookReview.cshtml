@model Review

@{
    string top_text = "";
    string bottom_text = "";    
    if(Model.Text.Length > 300)
    {
        int mediana = Model.Text.IndexOf('\n', 300);
        top_text = Model.Text.Substring(0, mediana);
        bottom_text = Model.Text.Substring(mediana);
    }
    else{
        top_text = Model.Text;
    }
}

<script src="/js/book.js" asp-append-version="true"></script>

<div class="book-review-container">
    <div class="review-author-and-raiting">
        <div class="review-author">@Model.ReviewerName</div>
        <div class="review-raiting">
            @await Html.PartialAsync("UserRating", @Model.Stars/1.0)
        </div>
    </div>
    <div class="review-text">
        <div class="review-textblock-top">
            @top_text
        </div>

        <button class="read-more-button">Читать далее...</button>

        <div class="review-textblock-bottom">@bottom_text</div>

        <button class="hide-button">Свернуть</button>
    </div>
</div>

